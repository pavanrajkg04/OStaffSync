import{a as e}from"./rolldown-runtime-D_juG1Xi.js";import{t}from"./react-BcXKmAwN.js";import"./react-dom-Dr_efIFp.js";import{A as n,r}from"./chunk-NISHYRIK-BsYev12b.js";import{C as i,E as a,F as o,G as s,H as c,L as l,S as u,T as d,W as f,_ as p,a as m,b as h,c as g,d as _,f as ee,h as v,i as y,l as b,m as x,n as S,o as C,p as w,s as T,u as E,x as D,y as O}from"./esm-D5Cammm2.js";import"./reflex-env-9XpqE36O.js";import{n as k}from"./emotion-react.browser.esm-B3Hu227f.js";import"./react-is-BiweJ67z.js";import"./shim-DLiwten_.js";import{t as A}from"./createLucideIcon-DvMhwGZ5.js";import{n as j,t as M}from"./users-h3LY_qm3.js";import{a as N,c as P,o as F,r as I,s as L,t as R}from"./stateful_components-BJUxbsqK.js";import{t as z}from"./clock-CK397qlP.js";import{t as B}from"./lib-D8E8fr-q.js";var V=A(`check-check`,[[`path`,{d:`M18 6 7 17l-5-5`,key:`116fxf`}],[`path`,{d:`m22 10-7.5 7.5L13 16`,key:`ke71qq`}]]),H=A(`message-circle-warning`,[[`path`,{d:`M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719`,key:`1sd12s`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M12 16h.01`,key:`1drbdi`}]]),U=e(t()),W=e(B());function G(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(d,{as:`p`,css:{fontSize:`2xl`,fontWeight:`bold`}},`Attendance Dashboard - `,e.formatted_date_rx_state_)}function K(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state),[t,n]=(0,U.useContext)(o),r=(0,U.useCallback)(e=>t([c(`reflex___state____state.templates___login____login_state.components___admin_dash_side_nav____admin_state.templates___admin_attendance_dashboard____attendance_dashboard_state.on_date_change`,{new_date:e?.target?.value},{})],[e],{}),[t,c]);return k(W.default,{css:{width:`200px`},debounceTimeout:300,element:S,onChange:r,type:`date`,value:f(e.date_selected_rx_state_)?e.date_selected_rx_state_:``})}function q(){(0,U.useEffect)(()=>(((...t)=>e([c(`reflex___state____state.templates___login____login_state.components___admin_dash_side_nav____admin_state.templates___admin_attendance_dashboard____attendance_dashboard_state.on_mount`,{},{})],t,{}))(),()=>{}),[]);let[e,t]=(0,U.useContext)(o);return k(D,{align:`center`,className:`rx-Stack`,direction:`row`,gap:`4`},k(G,{}),k(D,{css:{flex:1,justifySelf:`stretch`,alignSelf:`stretch`}}),k(K,{}))}function J(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(a,{css:{fontWeight:`bold`,color:`gray.800`},size:`6`},JSON.stringify(e.total_employees_rx_state_))}function te(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(a,{css:{fontWeight:`bold`,color:`gray.800`},size:`6`},JSON.stringify(e.present_today_rx_state_))}function Y(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(a,{css:{fontWeight:`bold`,color:`gray.800`},size:`6`},JSON.stringify(e.absent_today_rx_state_))}function X(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(a,{css:{fontWeight:`bold`,color:`gray.800`},size:`6`},JSON.stringify(e.attendance_rate_rx_state_))}function Z(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(T,{},Array.prototype.map.call(e.attendance_data_rx_state_??[],(e,t)=>k(y,{css:{"&:hover":{background:`gray.50`}},key:t},k(m,{},e?.name),k(C,{},e?.email),k(C,{},e?.role),k(C,{},e?.check_in),k(C,{},e?.check_out),k(C,{css:{color:e?.status?.valueOf?.()===`Present`?.valueOf?.()?`green`:`red`,fontWeight:`bold`}},e?.status))))}function Q(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(U.Fragment,{},s(e.attendance_data_rx_state_)?k(U.Fragment,{},k(E,{css:{width:`100%`,border:`1px solid`,borderColor:`gray.200`,borderRadius:`md`,overflowX:`auto`}},k(g,{},k(y,{},k(b,{},`Name`),k(b,{},`Email`),k(b,{},`Role`),k(b,{},`Check-in`),k(b,{},`Check-out`),k(b,{},`Status`))),k(Z,{}))):k(U.Fragment,{},k(d,{as:`p`,css:{fontSize:`2xl`,py:`6`,textAlign:`center`}},`No attendance data for this date.`)))}function ne(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(w,{},Array.prototype.map.call(e.employee_options_rx_state_??[],(e,t)=>k(v,{key:t,value:e?.value},e?.label)))}function re(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state),[t,n]=(0,U.useContext)(o),r=(0,U.useCallback)(e=>t([c(`reflex___state____state.templates___login____login_state.components___admin_dash_side_nav____admin_state.templates___admin_attendance_dashboard____attendance_dashboard_state.set_selected_user_id`,{value:e},{})],[e],{}),[t,c]);return k(ee,{css:{width:`260px`},onValueChange:r,value:s(e.selected_user_id_rx_state_)?JSON.stringify(e.selected_user_id_rx_state_):``},k(x,{placeholder:`Choose an employee...`}),k(ne,{}))}function ie(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(U.Fragment,{},s(e.attendance_data_rx_state_)?k(U.Fragment,{},k(D,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`4`},k(d,{as:`p`},`Select an employee to view monthly attendance:`),k(re,{}))):k(U.Fragment,{},k(d,{as:`p`},`No employees available to filter.`)))}function ae(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(a,{css:{mb:`4`},size:`4`},e.monthly_header_rx_state_)}function oe(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(T,{},Array.prototype.map.call(e.monthly_attendance_rx_state_??[],(e,t)=>k(y,{css:{"&:hover":{background:`gray.50`}},key:t},k(C,{},e?.date),k(C,{},e?.check_in),k(C,{},e?.check_out),k(C,{css:{color:e?.status?.valueOf?.()===`Present`?.valueOf?.()?`green`:e?.status?.valueOf?.()===`Half day`?.valueOf?.()?`orange`:`red`}},e?.status))))}function $(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(U.Fragment,{},s(e.monthly_attendance_rx_state_)?k(U.Fragment,{},k(u,{css:{overflowX:`auto`,overflowY:`auto`,maxHeight:`400px`,border:`1px solid`,borderColor:`gray.200`,borderRadius:`md`}},k(E,{css:{width:`100%`}},k(g,{},k(y,{},k(b,{css:{width:`140px`}},`Date`),k(b,{css:{width:`120px`}},`Check-in`),k(b,{css:{width:`120px`}},`Check-out`),k(b,{css:{width:`120px`}},`Status`))),k(oe,{})))):k(U.Fragment,{},k(d,{as:`p`,css:{fontSize:`lg`,py:`4`,textAlign:`center`}},`No attendance data available.`)))}function se(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(U.Fragment,{},s(e.selected_user_id_rx_state_)?k(U.Fragment,{},k(D,{align:`start`,className:`rx-Stack`,css:{mt:`6`},direction:`column`,gap:`2`},k(ae,{}),k($,{}))):k(U.Fragment,{},k(d,{as:`p`,css:{fontSize:`lg`,py:`4`}},`Select an employee to view monthly attendance.`)))}function ce(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state),[t,n]=(0,U.useContext)(o),r=(0,U.useCallback)(e=>t([c(`reflex___state____state.templates___login____login_state.components___admin_dash_side_nav____admin_state.templates___admin_attendance_dashboard____attendance_dashboard_state.set_start_date`,{value:e?.target?.value},{})],[e],{}),[t,c]);return k(W.default,{css:{width:`160px`},debounceTimeout:300,element:S,onChange:r,type:`date`,value:f(e.start_date_rx_state_)?e.start_date_rx_state_:``})}function le(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state),[t,n]=(0,U.useContext)(o),r=(0,U.useCallback)(e=>t([c(`reflex___state____state.templates___login____login_state.components___admin_dash_side_nav____admin_state.templates___admin_attendance_dashboard____attendance_dashboard_state.set_end_date`,{value:e?.target?.value},{})],[e],{}),[t,c]);return k(W.default,{css:{width:`160px`},debounceTimeout:300,element:S,onChange:r,type:`date`,value:f(e.end_date_rx_state_)?e.end_date_rx_state_:``})}function ue(){let[e,t]=(0,U.useContext)(o),n=(0,U.useCallback)(t=>e([c(`reflex___state____state.templates___login____login_state.components___admin_dash_side_nav____admin_state.templates___admin_attendance_dashboard____attendance_dashboard_state.generate_report`,{},{})],[t],{}),[e,c]);return k(h,{color:`blue`,onClick:n},`Generate Report`)}function de(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(d,{as:`p`},`Attendance Report: `,e.start_date_rx_state_,` to `,e.end_date_rx_state_)}function fe(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(T,{},Array.prototype.map.call(e.report_data_rx_state_??[],(e,t)=>k(y,{css:{"&:hover":{background:`gray.50`}},key:t},k(m,{},e?.name),k(C,{},e?.email),k(C,{},e?.role),k(C,{},e?.total_days),k(C,{},e?.present_days),k(C,{},e?.absent_days),k(C,{css:{color:e?.rate_color,fontWeight:`bold`}},e?.attendance_rate))))}function pe(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(U.Fragment,{},e.show_report_rx_state_?k(U.Fragment,{},k(D,{align:`start`,className:`rx-Stack`,css:{mt:`4`},direction:`column`,gap:`2`},k(a,{css:{mb:`3`},size:`3`},k(de,{})),k(E,{css:{width:`100%`,border:`1px solid`,borderColor:`gray.200`,borderRadius:`md`,overflowX:`auto`}},k(g,{},k(y,{},k(b,{},`Name`),k(b,{},`Email`),k(b,{},`Role`),k(b,{},`Total Days`),k(b,{},`Present Days`),k(b,{},`Absent Days`),k(b,{},`Attendance Rate`))),k(fe,{})))):k(U.Fragment,{},k(d,{as:`p`,css:{textAlign:`center`,py:`4`}},`Generate a report by selecting dates and clicking the button.`)))}function me(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state),[t,n]=(0,U.useContext)(o);return k(T,{},Array.prototype.map.call(e.leave_requests_rx_state_??[],(e,n)=>k(y,{css:{"&:hover":{background:`gray.50`}},key:n},k(m,{},e?.user_name),k(C,{},e?.type),k(C,{},e?.start_date),k(C,{},e?.end_date),k(C,{},e?.requested_at),k(C,{},k(D,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`2`},k(h,{color:`green`,onClick:n=>t([c(`reflex___state____state.templates___login____login_state.components___admin_dash_side_nav____admin_state.templates___admin_attendance_dashboard____attendance_dashboard_state.approve_leave`,{leave_id:e?.leave_id},{})],[n],{})},`Approve`),k(h,{color:`red`,onClick:n=>t([c(`reflex___state____state.templates___login____login_state.components___admin_dash_side_nav____admin_state.templates___admin_attendance_dashboard____attendance_dashboard_state.reject_leave`,{leave_id:e?.leave_id},{})],[n],{})},`Reject`))))))}function he(){let e=(0,U.useContext)(l.reflex___state____state__templates___login____login_state__components___admin_dash_side_nav____admin_state__templates___admin_attendance_dashboard____attendance_dashboard_state);return k(U.Fragment,{},s(e.leave_requests_rx_state_)?k(U.Fragment,{},k(E,{css:{width:`100%`,border:`1px solid`,borderColor:`gray.200`,borderRadius:`md`,overflowX:`auto`}},k(g,{},k(y,{},k(b,{},`Employee`),k(b,{},`Type`),k(b,{},`Start Date`),k(b,{},`End Date`),k(b,{},`Requested At`),k(b,{},`Actions`))),k(me,{}))):k(U.Fragment,{},k(d,{as:`p`,css:{py:`4`,fontSize:`lg`,textAlign:`center`}},`No pending leave requests.`)))}var ge=n(function(){return k(U.Fragment,{},k(D,{align:`start`,className:`rx-Stack`,direction:`column`,gap:`0`},k(D,{align:`center`,className:`rx-Stack`,css:{width:`100%`,paddingTop:`1.5`,paddingBottom:`1.5`,paddingInlineStart:`6`,paddingInlineEnd:`6`,backgroundColor:`#FFF44F`,boxShadow:`0 2px 8px rgba(0, 0, 0, 0.15)`,position:`sticky`,top:`0`,zIndex:`1000`},direction:`row`,justify:`between`,gap:`3`},k(d,{as:`p`,css:{color:`#1E3A8A`,fontSize:`2`,fontWeight:`bold`,paddingInlineStart:`2`,paddingInlineEnd:`2`,"&:hover":{color:`#2563EB`,transition:`color 0.3s ease`}}},`OStaffSync`),k(D,{align:`center`,className:`rx-Stack`,css:{margin:`20`},direction:`row`,gap:`5`},k(p,{asChild:!0,css:{color:`black`,fontSize:`1.1`,paddingInlineStart:`2`,paddingInlineEnd:`2`,"&:hover":{color:`#2563EB`,transform:`scale(1.05)`,transition:`all 0.3s ease-in-out`}}},k(r,{to:`/login`},`Logout`)))),k(D,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`4`},k(u,{},k(D,{align:`start`,className:`rx-Stack`,css:{height:`100vh`,backgroundColor:`var(--accent-2)`,width:`18rem`,borderRight:`1px solid var(--gray-6)`},direction:`column`,justify:`between`,gap:`2`},k(D,{align:`center`,className:`rx-Stack`,css:{padding:`1rem`},direction:`row`,gap:`3`},k(j,{size:22}),k(d,{as:`p`,size:`5`,weight:`bold`},`OStaffSync`)),k(_,{size:`4`}),k(p,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},k(r,{to:`/dashboard`},k(D,{align:`center`,className:`rx-Stack`,css:{"&:hover":{background:`var(--accent-4)`,color:`var(--accent-11)`,cursor:`pointer`},width:`100%`,paddingInlineStart:`0.5rem`,paddingInlineEnd:`0.5rem`,paddingTop:`0.75rem`,paddingBottom:`0.75rem`},direction:`row`,gap:`3`},k(L,{}),k(d,{as:`p`,size:`4`},`Dashboard`)))),k(p,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},k(r,{to:`/employees`},k(D,{align:`center`,className:`rx-Stack`,css:{"&:hover":{background:`var(--accent-4)`,color:`var(--accent-11)`,cursor:`pointer`},width:`100%`,paddingInlineStart:`0.5rem`,paddingInlineEnd:`0.5rem`,paddingTop:`0.75rem`,paddingBottom:`0.75rem`},direction:`row`,gap:`3`},k(M,{}),k(d,{as:`p`,size:`4`},`Employees`)))),k(p,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},k(r,{to:`/attendance`},k(D,{align:`center`,className:`rx-Stack`,css:{"&:hover":{background:`var(--accent-4)`,color:`var(--accent-11)`,cursor:`pointer`},width:`100%`,paddingInlineStart:`0.5rem`,paddingInlineEnd:`0.5rem`,paddingTop:`0.75rem`,paddingBottom:`0.75rem`},direction:`row`,gap:`3`},k(P,{}),k(d,{as:`p`,size:`4`},`Attendance`)))),k(p,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},k(r,{to:`/payroll`},k(D,{align:`center`,className:`rx-Stack`,css:{"&:hover":{background:`var(--accent-4)`,color:`var(--accent-11)`,cursor:`pointer`},width:`100%`,paddingInlineStart:`0.5rem`,paddingInlineEnd:`0.5rem`,paddingTop:`0.75rem`,paddingBottom:`0.75rem`},direction:`row`,gap:`3`},k(F,{}),k(d,{as:`p`,size:`4`},`Payroll`)))),k(D,{css:{flex:1,justifySelf:`stretch`,alignSelf:`stretch`}}),k(u,{css:{padding:`1rem`,borderTop:`1px solid var(--gray-5)`}},k(D,{align:`center`,className:`rx-Stack`,css:{width:`100%`},direction:`row`,justify:`between`,gap:`3`},k(i,{fallback:`👤`,size:`3`}),k(D,{align:`start`,className:`rx-Stack`,direction:`column`,gap:`0`},k(I,{}),k(N,{}))),k(R,{})))),k(u,{css:{width:`100%`,height:`100vh`,overflowY:`auto`}},k(D,{align:`start`,className:`rx-Stack`,css:{p:`6`},direction:`column`,gap:`6`},k(q,{}),k(D,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`6`,wrap:`wrap`},k(O,{css:{background:`white`,shadow:`sm`,borderRadius:`12`,width:`220px`,height:`150px`,textAlign:`center`,"&:hover":{shadow:`md`,transform:`scale(1.03)`,transition:`all 0.25s ease`}}},k(D,{align:`center`,css:{gap:`1`,p:`4`},direction:`column`,justify:`center`},k(u,{css:{background:`blue.100`,p:`3`,borderRadius:`full`,mb:`3`}},k(M,{css:{color:`blue.600`},size:22})),k(J,{}),k(d,{as:`p`,css:{fontSize:`2`,color:`gray.600`}},`Total Employees`))),k(O,{css:{background:`white`,shadow:`sm`,borderRadius:`12`,width:`220px`,height:`150px`,textAlign:`center`,"&:hover":{shadow:`md`,transform:`scale(1.03)`,transition:`all 0.25s ease`}}},k(D,{align:`center`,css:{gap:`1`,p:`4`},direction:`column`,justify:`center`},k(u,{css:{background:`green.100`,p:`3`,borderRadius:`full`,mb:`3`}},k(V,{css:{color:`green.600`},size:22})),k(te,{}),k(d,{as:`p`,css:{fontSize:`2`,color:`gray.600`}},`Present Today`))),k(O,{css:{background:`white`,shadow:`sm`,borderRadius:`12`,width:`220px`,height:`150px`,textAlign:`center`,"&:hover":{shadow:`md`,transform:`scale(1.03)`,transition:`all 0.25s ease`}}},k(D,{align:`center`,css:{gap:`1`,p:`4`},direction:`column`,justify:`center`},k(u,{css:{background:`red.100`,p:`3`,borderRadius:`full`,mb:`3`}},k(H,{css:{color:`red.600`},size:22})),k(Y,{}),k(d,{as:`p`,css:{fontSize:`2`,color:`gray.600`}},`Absent Today`))),k(O,{css:{background:`white`,shadow:`sm`,borderRadius:`12`,width:`220px`,height:`150px`,textAlign:`center`,"&:hover":{shadow:`md`,transform:`scale(1.03)`,transition:`all 0.25s ease`}}},k(D,{align:`center`,css:{gap:`1`,p:`4`},direction:`column`,justify:`center`},k(u,{css:{background:`teal.100`,p:`3`,borderRadius:`full`,mb:`3`}},k(z,{css:{color:`teal.600`},size:22})),k(X,{}),k(d,{as:`p`,css:{fontSize:`2`,color:`gray.600`}},`Attendance %`)))),k(Q,{}),k(D,{align:`start`,className:`rx-Stack`,css:{mt:`4`},direction:`column`,gap:`4`},k(ie,{}),k(se,{})),k(D,{align:`start`,className:`rx-Stack`,css:{mt:`8`,p:`4`,background:`gray.50`,borderRadius:`md`},direction:`column`,gap:`4`},k(a,{css:{mb:`4`},size:`4`},`Attendance Report Generator`),k(D,{align:`center`,className:`rx-Stack`,direction:`row`,gap:`4`},k(d,{as:`p`},`Start Date:`),k(ce,{}),k(d,{as:`p`},`End Date:`),k(le,{}),k(ue,{})),k(pe,{})),k(D,{align:`start`,className:`rx-Stack`,css:{mt:`6`,p:`4`,background:`gray.50`,borderRadius:`md`},direction:`column`,gap:`4`},k(a,{css:{mb:`4`},size:`4`},`Pending Leave Requests`),k(he,{})))))),k(`title`,{},`Ostaffsync | Attendance`),k(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{ge as default};